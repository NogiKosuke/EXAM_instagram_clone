<h1>ブログ一覧</h1>

<table>
  <tr>
    <th>タイトル</th>
    <th>内容</th>
  </tr>

<% @pictures.each do |pct| %>
  <tr>
    <td><%= pct.content %></td>
    <td><%= pct.picture %></td>
    <td><%= link_to '詳細', picture_path(pct.id) %></td>
    <% if current_user.id == pct.user.id %>
      <td><%= link_to '編集', edit_picture_path(pct.id) %></td>
      <td><%= link_to '削除', picture_path(pct.id), method: :delete, data: { confirm: '本当に削除していいですか？' } %></td>
    <% end %>
    <% unless pct.user_id == current_user.id %>
      <% @favorite = current_user.favorites.find_by(picture_id: pct.id) %>
      <% if @favorite.present? %>
        <td><%= link_to 'お気に入り解除する', favorite_path(id: @favorite.id), method: :delete, class: 'btn btn-danger' %></td>
      <% else %>
        <td><%= link_to 'お気に入りする', favorites_path(picture_id: pct.id), method: :post, class: 'btn btn-primary' %></td>
      <% end %>
    <% end %>
  </tr>
<% end %>
</table>
<%= link_to '投稿する', new_picture_path %>
<%= link_to 'お気に入り一覧', bookmarks_pictures_path %>